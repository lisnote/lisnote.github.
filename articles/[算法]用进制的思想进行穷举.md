---
date: 2022-03-10 12:44:49
---

# 穷举

在聊天的时候有人来了个题,如何穷举比较好

排列组合大家都会,问穷举一时间还真有点举棋不定

![image-20211202182154042](assets/[算法]用进制的思想进行穷举.md/image-20211202182154042.png)

1. 嵌套穷举

   四个人,三张卷子,最粗暴的做法就嵌套(四for循环你害怕吗?)

   ```
   public class Test {
       public static void main(String[] args) {
           int cout = 0;
           for (int i1 = 0; i1 < 3; i1++) {
               for (int i2 = 0; i2 < 3; i2++) {
                   for (int i3 = 0; i3 < 3; i3++) {
                       for (int i4 = 0; i4 < 3; i4++) {
                           Set<Integer> set = new HashSet<>();
                           Collections.addAll(set, new Integer[]{i1, i2, i3, i4});
                           if (set.size() == 3) cout++;
                       }
                   }
               }
           }
           System.out.println(cout);
       }
   }
   ```

   

2. 进制穷举

   聊的时候可以看到不少不同的想法，但是似乎并没有人说过用进制的逻辑来进行穷举，可能因为处理进制需要额外的消费吧，不过觉得有点意思还是记录一下

   ```
   public class Test {
       public static void main(String[] args) {
           // count 同时包含三张卷子的次数
           int count = 0;
           // num 所有可能性的总数
           for (int num = 0; num <= Math.pow(3, 4); num++) {
               Set<Integer> set = new HashSet<>();
               // index 为取位位数
               for (int index = 0; index <= 4; index++) {
                   set.add(getTernary(num, index));
               }
               if (set.size() == 3) {
                   count++;
               }
           }
           System.out.println(count + "/" + Math.pow(3, 4));
       }
   
       // 取位操作 传入 十进制待取位数字，取三进制位数
       public static int getTernary(int num, int index) {
           while (index > 1) {
               index--;
               num /= 3;
           }
           return num % 3;
       }
   }
   ```

   

   简化三进制

   看起来让人懵一点,实际上做的事情和上面的差不多

   ```
   public class Test {
       public static void main(String[] args) {
           int count = 0;
           for (int num = 0; num < Math.pow(3, 4); num++) {
               Set<Integer> set = new HashSet<>();
               for (int base = (int)Math.pow(3,3);base>=1;base/=3){
                   set.add(num/base%3);
               }
               if (set.size() == 3) count++;
           }
           System.out.println(count+" "+Math.pow(3,4));
       }
   }
   ```

   

3. 最后还是来个排列组合吧

   捡起来丢了22年的数学(我大概上辈子学过)

   ```
   3*4/3*3*2 = 36
   3*3*3*3   = 81
   ```



