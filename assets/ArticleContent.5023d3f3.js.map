{"version":3,"file":"ArticleContent.5023d3f3.js","sources":["../../src/views/ArticleContent.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { useRoute } from 'vue-router';\r\nimport lispress from 'lispress';\r\nimport { marked } from 'marked';\r\nimport hljs from 'highlight.js/lib/common';\r\nimport { PressStore } from '../store';\r\nimport { onUnmounted } from 'vue';\r\n\r\nlet pressStore = PressStore()\r\nlet title = useRoute().query.article as string;\r\nlispress.getArticleContent(title).then((text) => {\r\n  if (text.indexOf('---') == 0) {\r\n    text = text.replace(/---(.*\\r?\\n)*?---/, '');\r\n  }\r\n  let element = document.createElement('div');\r\n  element.innerHTML = marked(text);\r\n  element.querySelectorAll('pre>code').forEach((el) => {\r\n    hljs.highlightElement(el as HTMLElement);\r\n  });\r\n  pressStore.article = element;\r\n});\r\n\r\nonUnmounted(() => {\r\n  pressStore.article.innerHTML = '';\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div id=\"article-content\">\r\n    <div id=\"article\" v-html=\"pressStore.article.innerHTML\"></div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n@import 'highlight.js/styles/default.css';\r\n#article-content {\r\n  position: relative;\r\n  #article {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    padding: 15px;\r\n    pre {\r\n      overflow-x: auto;\r\n    }\r\n    p,\r\n    li {\r\n      word-wrap: break-word;\r\n      word-break: break-word;\r\n    }\r\n    blockquote {\r\n      border-left: 5px solid #ddd;\r\n      padding-left: 5px;\r\n    }\r\n    table {\r\n      word-break: break-word;\r\n      overflow: auto;\r\n      background: #ddd;\r\n      * {\r\n        background: white;\r\n      }\r\n    }\r\n    img {\r\n      max-width: 100%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":["lispress","hljs"],"mappings":"yZAQA,GAAI,GAAa,IACb,EAAQ,IAAW,MAAM,QAC7BA,SAAS,kBAAkB,CAAK,EAAE,KAAK,AAAC,GAAS,CAC/C,AAAI,EAAK,QAAQ,KAAK,GAAK,GAClB,GAAA,EAAK,QAAQ,oBAAqB,EAAE,GAEzC,GAAA,GAAU,SAAS,cAAc,KAAK,EAClC,EAAA,UAAY,EAAO,CAAI,EAC/B,EAAQ,iBAAiB,UAAU,EAAE,QAAQ,AAAC,GAAO,CACnDC,EAAK,iBAAiB,CAAiB,CAAA,CACxC,EACD,EAAW,QAAU,CAAA,CACtB,EAED,EAAY,IAAM,CAChB,EAAW,QAAQ,UAAY,EAAA,CAChC"}