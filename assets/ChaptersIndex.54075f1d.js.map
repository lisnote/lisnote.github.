{"version":3,"file":"ChaptersIndex.54075f1d.js","sources":["../../src/views/ChaptersIndex.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport { PressStore } from '../store';\r\nimport { computed, nextTick } from 'vue';\r\n\r\nlet pressStore = PressStore();\r\nlet chapters = computed(function () {\r\n  let nodes: NodeListOf<HTMLElement> =\r\n    pressStore.article.querySelectorAll('h1,h2,h3,h4,h5,h6');\r\n  return Array.from(nodes);\r\n});\r\nnextTick(() => {\r\n  let chaptersIndex = document.querySelector('#chapters-index');\r\n  chaptersIndex?.addEventListener('click', (e) => {\r\n    let id = (e.target as HTMLElement).dataset.id;\r\n    if (id?.indexOf('#') == 0) {\r\n      window.scrollTo({\r\n        top: document.querySelector<HTMLElement>(id)?.offsetTop,\r\n        behavior: 'smooth',\r\n      });\r\n    }\r\n  });\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div id=\"chapters-index\">\r\n    <div\r\n      v-for=\"chapter in chapters\"\r\n      :key=\"chapter.id\"\r\n      :style=\"{ '--level': Number(chapter.tagName.substring(1)) * 10 }\"\r\n    >\r\n      <span :data-id=\"`#${chapter.id}`\">\r\n        {{ chapter.innerText }}\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n#chapters-index {\r\n  padding: 15px;\r\n  > div {\r\n    margin-left: calc(var(--level) * 1px);\r\n    > span {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":[],"mappings":"gVAIA,GAAI,GAAa,IACb,EAAW,EAAS,UAAY,CAClC,GAAI,GACF,EAAW,QAAQ,iBAAiB,mBAAmB,EAClD,MAAA,OAAM,KAAK,CAAK,CAAA,CACxB,EACD,SAAS,IAAM,CACT,GAAA,GAAgB,SAAS,cAAc,iBAAiB,EAC7C,WAAA,iBAAiB,QAAS,AAAC,GAAM,OAC1C,GAAA,GAAM,EAAE,OAAuB,QAAQ,GAC3C,AAAI,kBAAI,QAAQ,OAAQ,GACtB,OAAO,SAAS,CACd,IAAK,YAAS,cAA2B,CAAE,IAAtC,cAAyC,UAC9C,SAAU,QAAA,CACX,CACH,EACD,CACF"}